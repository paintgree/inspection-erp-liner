{% extends "base.html" %}
{% block content %}
<a class="btn btn-ghost" href="/dashboard">← Back</a>

<div class="card">
  <h1>Start New Production Run</h1>

  {% if error %}
    <div class="alert">{{ error }}</div>
  {% endif %}

  <form method="post" action="/runs/new">
    <div class="grid2">
      <div>
        <label>Process</label>
        <select name="process" required>
          <option value="">-- Select --</option>
          <option value="LINER">LINER</option>
          <option value="REINFORCEMENT">REINFORCEMENT</option>
          <option value="COVER">COVER</option>
        </select>
      </div>

      <div>
        <label>Batch No</label>
        <input name="dhtp_batch_no" required>
      </div>

      <div>
        <label>Client Name</label>
        <input name="client_name" required>
      </div>

      <div>
        <label>PO Number</label>
        <input name="po_number" required>
      </div>

      <div>
        <label>ITP Number</label>
        <input name="itp_number" required>
      </div>

      <div>
        <label>Pipe Specification</label>
        <input name="pipe_specification" required>
      </div>

      <div>
        <label>Raw Material Spec</label>
        <input name="raw_material_spec" required>
      </div>

      <div>
        <label>Total Pipe Length (m)</label>
        <input name="total_length_m" type="number" step="0.01" value="0">
      </div>
    </div>

    <!-- ✅ THE TICK IS HERE (INSIDE FORM) -->
    <div class="mt">
      <label style="display:flex; gap:10px; align-items:center;">
        <input type="checkbox" name="allow_duplicate" value="1">
        Allow duplicate line for same Batch + Process (use when 2 production lines run same batch)
      </label>
    </div>

    <div class="toolbar mt">
      <button class="btn btn-primary" type="submit">Create Run</button>
      <a class="btn" href="/dashboard">Cancel</a>
    </div>
  </form>
</div>
{% endblock %}
